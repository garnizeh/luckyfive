{
    "schemes": [
        "http"
    ],
    "swagger": "2.0",
    "info": {
        "description": "Quina Lottery Simulation API â€” upload XLSX results, import into SQLite, and query draws.",
        "title": "LuckyFive API",
        "termsOfService": "https://example.com/terms/",
        "contact": {
            "name": "LuckyFive API Support",
            "url": "https://example.com/support",
            "email": "devops@example.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/",
    "paths": {
        "/api/v1/configs": {
            "get": {
                "description": "Retrieve a paginated list of simulation configurations",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "configs"
                ],
                "summary": "List configurations",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 50,
                        "description": "Maximum number of configs to return",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "Number of configs to skip",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of configurations",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "configs": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "created_at": {
                                                "type": "string"
                                            },
                                            "created_by": {
                                                "type": "string"
                                            },
                                            "description": {
                                                "type": "string"
                                            },
                                            "id": {
                                                "type": "integer"
                                            },
                                            "is_default": {
                                                "type": "integer"
                                            },
                                            "last_used_at": {
                                                "type": "string"
                                            },
                                            "mode": {
                                                "type": "string"
                                            },
                                            "name": {
                                                "type": "string"
                                            },
                                            "recipe_json": {
                                                "type": "string"
                                            },
                                            "tags": {
                                                "type": "string"
                                            },
                                            "times_used": {
                                                "type": "integer"
                                            },
                                            "updated_at": {
                                                "type": "string"
                                            }
                                        }
                                    }
                                },
                                "pagination": {
                                    "type": "object",
                                    "properties": {
                                        "limit": {
                                            "type": "integer"
                                        },
                                        "offset": {
                                            "type": "integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            },
            "post": {
                "description": "Create a new simulation configuration",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "configs"
                ],
                "summary": "Create a configuration",
                "parameters": [
                    {
                        "description": "Configuration data",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.CreateConfigRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Configuration created",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "created_at": {
                                    "type": "string"
                                },
                                "created_by": {
                                    "type": "string"
                                },
                                "description": {
                                    "type": "string"
                                },
                                "id": {
                                    "type": "integer"
                                },
                                "is_default": {
                                    "type": "integer"
                                },
                                "last_used_at": {
                                    "type": "string"
                                },
                                "mode": {
                                    "type": "string"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "recipe_json": {
                                    "type": "string"
                                },
                                "tags": {
                                    "type": "string"
                                },
                                "times_used": {
                                    "type": "integer"
                                },
                                "updated_at": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/configs/{id}": {
            "get": {
                "description": "Retrieve details of a specific configuration by ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "configs"
                ],
                "summary": "Get configuration details",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Configuration ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Configuration details",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "created_at": {
                                    "type": "string"
                                },
                                "created_by": {
                                    "type": "string"
                                },
                                "description": {
                                    "type": "string"
                                },
                                "id": {
                                    "type": "integer"
                                },
                                "is_default": {
                                    "type": "integer"
                                },
                                "last_used_at": {
                                    "type": "string"
                                },
                                "mode": {
                                    "type": "string"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "recipe_json": {
                                    "type": "string"
                                },
                                "tags": {
                                    "type": "string"
                                },
                                "times_used": {
                                    "type": "integer"
                                },
                                "updated_at": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid configuration ID",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "404": {
                        "description": "Configuration not found",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            },
            "put": {
                "description": "Update an existing simulation configuration",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "configs"
                ],
                "summary": "Update a configuration",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Configuration ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Updated configuration data",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "description": {
                                    "type": "string"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "recipe": {
                                    "type": "object",
                                    "properties": {
                                        "algorithm": {
                                            "type": "string"
                                        },
                                        "parameters": {
                                            "type": "object"
                                        },
                                        "version": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "tags": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Configuration updated",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "404": {
                        "description": "Configuration not found",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete a simulation configuration",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "configs"
                ],
                "summary": "Delete a configuration",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Configuration ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Configuration deleted"
                    },
                    "400": {
                        "description": "Invalid configuration ID",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "404": {
                        "description": "Configuration not found",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/configs/{id}/set-default": {
            "post": {
                "description": "Set a configuration as the default for its mode",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "configs"
                ],
                "summary": "Set default configuration",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Configuration ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Default configuration set",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid configuration ID",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/health": {
            "get": {
                "description": "Returns 200 when the service is healthy",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "health"
                ],
                "summary": "Service health check",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/results": {
            "get": {
                "description": "Returns a paginated list of draws. Query params: limit (default 50), offset (default 0).",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "results"
                ],
                "summary": "List draws with pagination",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Limit",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "Offset",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/results/import": {
            "post": {
                "description": "Triggers import for a previously uploaded artifact identified by artifact_id. Optional sheet name may be provided.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "results"
                ],
                "summary": "Trigger import for uploaded artifact",
                "parameters": [
                    {
                        "description": "Import request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.ImportRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/services.ImportResult"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/models.ValidationError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/results/upload": {
            "post": {
                "description": "Accepts a multipart/form-data upload containing an XLSX file. Returns an artifact_id to be used for import.",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "results"
                ],
                "summary": "Upload XLSX results file",
                "parameters": [
                    {
                        "type": "file",
                        "description": "XLSX file",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/handlers.UploadResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/results/{contest}": {
            "get": {
                "description": "Retrieve a single draw by contest number",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "results"
                ],
                "summary": "Get a single draw",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Contest number",
                        "name": "contest",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/models.Draw"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/simulations": {
            "get": {
                "description": "Retrieve a paginated list of simulations",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "simulations"
                ],
                "summary": "List simulations",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 10,
                        "description": "Maximum number of simulations to return",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "Number of simulations to skip",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of simulations",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "limit": {
                                    "type": "integer"
                                },
                                "offset": {
                                    "type": "integer"
                                },
                                "simulations": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "created_at": {
                                                "type": "string"
                                            },
                                            "created_by": {
                                                "type": "string"
                                            },
                                            "end_contest": {
                                                "type": "integer"
                                            },
                                            "error_message": {
                                                "type": "string"
                                            },
                                            "error_stack": {
                                                "type": "string"
                                            },
                                            "finished_at": {
                                                "type": "string"
                                            },
                                            "id": {
                                                "type": "integer"
                                            },
                                            "log_blob": {
                                                "type": "array",
                                                "items": {
                                                    "type": "integer",
                                                    "format": "int32"
                                                }
                                            },
                                            "mode": {
                                                "type": "string"
                                            },
                                            "output_blob": {
                                                "type": "array",
                                                "items": {
                                                    "type": "integer",
                                                    "format": "int32"
                                                }
                                            },
                                            "output_name": {
                                                "type": "string"
                                            },
                                            "recipe_json": {
                                                "type": "string"
                                            },
                                            "recipe_name": {
                                                "type": "string"
                                            },
                                            "run_duration_ms": {
                                                "type": "integer"
                                            },
                                            "start_contest": {
                                                "type": "integer"
                                            },
                                            "started_at": {
                                                "type": "string"
                                            },
                                            "status": {
                                                "type": "string"
                                            },
                                            "summary_json": {
                                                "type": "string"
                                            },
                                            "worker_id": {
                                                "type": "string"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/simulations/advanced": {
            "post": {
                "description": "Create and optionally execute a simulation with custom configuration",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "simulations"
                ],
                "summary": "Create an advanced simulation",
                "parameters": [
                    {
                        "description": "Advanced simulation request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "async": {
                                    "type": "boolean"
                                },
                                "config_description": {
                                    "type": "string"
                                },
                                "config_name": {
                                    "type": "string"
                                },
                                "end_contest": {
                                    "type": "integer"
                                },
                                "recipe": {
                                    "type": "object",
                                    "properties": {
                                        "algorithm": {
                                            "type": "string"
                                        },
                                        "name": {
                                            "type": "string"
                                        },
                                        "parameters": {
                                            "type": "object",
                                            "properties": {
                                                "alpha": {
                                                    "type": "number"
                                                },
                                                "beta": {
                                                    "type": "number"
                                                },
                                                "delta": {
                                                    "type": "number"
                                                },
                                                "gamma": {
                                                    "type": "number"
                                                },
                                                "sim_preds": {
                                                    "type": "integer"
                                                },
                                                "sim_prev_max": {
                                                    "type": "integer"
                                                }
                                            }
                                        },
                                        "version": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "save_as_config": {
                                    "type": "boolean"
                                },
                                "start_contest": {
                                    "type": "integer"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Synchronous simulation completed",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "simulation": {
                                    "type": "object",
                                    "properties": {
                                        "created_at": {
                                            "type": "string"
                                        },
                                        "created_by": {
                                            "type": "string"
                                        },
                                        "end_contest": {
                                            "type": "integer"
                                        },
                                        "error_message": {
                                            "type": "string"
                                        },
                                        "error_stack": {
                                            "type": "string"
                                        },
                                        "finished_at": {
                                            "type": "string"
                                        },
                                        "id": {
                                            "type": "integer"
                                        },
                                        "log_blob": {
                                            "type": "array",
                                            "items": {
                                                "type": "integer",
                                                "format": "int32"
                                            }
                                        },
                                        "mode": {
                                            "type": "string"
                                        },
                                        "output_blob": {
                                            "type": "array",
                                            "items": {
                                                "type": "integer",
                                                "format": "int32"
                                            }
                                        },
                                        "output_name": {
                                            "type": "string"
                                        },
                                        "recipe_json": {
                                            "type": "string"
                                        },
                                        "recipe_name": {
                                            "type": "string"
                                        },
                                        "run_duration_ms": {
                                            "type": "integer"
                                        },
                                        "start_contest": {
                                            "type": "integer"
                                        },
                                        "started_at": {
                                            "type": "string"
                                        },
                                        "status": {
                                            "type": "string"
                                        },
                                        "summary_json": {
                                            "type": "string"
                                        },
                                        "worker_id": {
                                            "type": "string"
                                        }
                                    }
                                },
                                "simulation_id": {
                                    "type": "integer"
                                },
                                "status": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "202": {
                        "description": "Asynchronous simulation queued",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string"
                                },
                                "simulation_id": {
                                    "type": "integer"
                                },
                                "status": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/simulations/simple": {
            "post": {
                "description": "Create and optionally execute a simulation using a predefined configuration preset",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "simulations"
                ],
                "summary": "Create a simple simulation using a preset",
                "parameters": [
                    {
                        "description": "Simulation request",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "async": {
                                    "type": "boolean"
                                },
                                "end_contest": {
                                    "type": "integer"
                                },
                                "preset": {
                                    "type": "string"
                                },
                                "start_contest": {
                                    "type": "integer"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Synchronous simulation completed",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "created_at": {
                                    "type": "string"
                                },
                                "created_by": {
                                    "type": "string"
                                },
                                "end_contest": {
                                    "type": "integer"
                                },
                                "error_message": {
                                    "type": "string"
                                },
                                "error_stack": {
                                    "type": "string"
                                },
                                "finished_at": {
                                    "type": "string"
                                },
                                "id": {
                                    "type": "integer"
                                },
                                "log_blob": {
                                    "type": "array",
                                    "items": {
                                        "type": "integer",
                                        "format": "int32"
                                    }
                                },
                                "mode": {
                                    "type": "string"
                                },
                                "output_blob": {
                                    "type": "array",
                                    "items": {
                                        "type": "integer",
                                        "format": "int32"
                                    }
                                },
                                "output_name": {
                                    "type": "string"
                                },
                                "recipe_json": {
                                    "type": "string"
                                },
                                "recipe_name": {
                                    "type": "string"
                                },
                                "run_duration_ms": {
                                    "type": "integer"
                                },
                                "start_contest": {
                                    "type": "integer"
                                },
                                "started_at": {
                                    "type": "string"
                                },
                                "status": {
                                    "type": "string"
                                },
                                "summary_json": {
                                    "type": "string"
                                },
                                "worker_id": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "202": {
                        "description": "Asynchronous simulation queued",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string"
                                },
                                "simulation_id": {
                                    "type": "integer"
                                },
                                "status": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "404": {
                        "description": "Preset not found",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/simulations/{id}": {
            "get": {
                "description": "Retrieve details of a specific simulation by ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "simulations"
                ],
                "summary": "Get simulation details",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Simulation ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Simulation details",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "created_at": {
                                    "type": "string"
                                },
                                "created_by": {
                                    "type": "string"
                                },
                                "end_contest": {
                                    "type": "integer"
                                },
                                "error_message": {
                                    "type": "string"
                                },
                                "error_stack": {
                                    "type": "string"
                                },
                                "finished_at": {
                                    "type": "string"
                                },
                                "id": {
                                    "type": "integer"
                                },
                                "log_blob": {
                                    "type": "array",
                                    "items": {
                                        "type": "integer",
                                        "format": "int32"
                                    }
                                },
                                "mode": {
                                    "type": "string"
                                },
                                "output_blob": {
                                    "type": "array",
                                    "items": {
                                        "type": "integer",
                                        "format": "int32"
                                    }
                                },
                                "output_name": {
                                    "type": "string"
                                },
                                "recipe_json": {
                                    "type": "string"
                                },
                                "recipe_name": {
                                    "type": "string"
                                },
                                "run_duration_ms": {
                                    "type": "integer"
                                },
                                "start_contest": {
                                    "type": "integer"
                                },
                                "started_at": {
                                    "type": "string"
                                },
                                "status": {
                                    "type": "string"
                                },
                                "summary_json": {
                                    "type": "string"
                                },
                                "worker_id": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid simulation ID",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "404": {
                        "description": "Simulation not found",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/simulations/{id}/cancel": {
            "post": {
                "description": "Cancel a pending or running simulation",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "simulations"
                ],
                "summary": "Cancel a simulation",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Simulation ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cancellation successful",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid simulation ID",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/simulations/{id}/results": {
            "get": {
                "description": "Retrieve paginated contest results for a specific simulation",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "simulations"
                ],
                "summary": "Get simulation contest results",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Simulation ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 50,
                        "description": "Maximum number of results to return",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "Number of results to skip",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Contest results",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "limit": {
                                    "type": "integer"
                                },
                                "offset": {
                                    "type": "integer"
                                },
                                "results": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "actual_numbers": {
                                                "type": "string"
                                            },
                                            "best_hits": {
                                                "type": "integer"
                                            },
                                            "best_prediction_index": {
                                                "type": "integer"
                                            },
                                            "best_prediction_numbers": {
                                                "type": "string"
                                            },
                                            "contest": {
                                                "type": "integer"
                                            },
                                            "id": {
                                                "type": "integer"
                                            },
                                            "predictions_json": {
                                                "type": "string"
                                            },
                                            "processed_at": {
                                                "type": "string"
                                            },
                                            "simulation_id": {
                                                "type": "integer"
                                            }
                                        }
                                    }
                                },
                                "simulation_id": {
                                    "type": "integer"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid simulation ID",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/sweep-configs": {
            "get": {
                "description": "Retrieve a paginated list of sweep configurations",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sweep-configs"
                ],
                "summary": "List sweep configurations",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 50,
                        "description": "Maximum number of sweep configs to return",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "Number of sweep configs to skip",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of sweep configurations",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "pagination": {
                                    "type": "object",
                                    "properties": {
                                        "limit": {
                                            "type": "integer"
                                        },
                                        "offset": {
                                            "type": "integer"
                                        }
                                    }
                                },
                                "sweep_configs": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "config_json": {
                                                "type": "string"
                                            },
                                            "created_at": {
                                                "type": "string"
                                            },
                                            "created_by": {
                                                "type": "string"
                                            },
                                            "description": {
                                                "type": "string"
                                            },
                                            "id": {
                                                "type": "integer"
                                            },
                                            "last_used_at": {
                                                "type": "string"
                                            },
                                            "name": {
                                                "type": "string"
                                            },
                                            "times_used": {
                                                "type": "integer"
                                            },
                                            "updated_at": {
                                                "type": "string"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            },
            "post": {
                "description": "Create a new sweep configuration",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sweep-configs"
                ],
                "summary": "Create a sweep configuration",
                "parameters": [
                    {
                        "description": "Sweep configuration data",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.CreateSweepConfigRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Sweep configuration created",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "config_json": {
                                    "type": "string"
                                },
                                "created_at": {
                                    "type": "string"
                                },
                                "created_by": {
                                    "type": "string"
                                },
                                "description": {
                                    "type": "string"
                                },
                                "id": {
                                    "type": "integer"
                                },
                                "last_used_at": {
                                    "type": "string"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "times_used": {
                                    "type": "integer"
                                },
                                "updated_at": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        },
        "/api/v1/sweep-configs/{id}": {
            "get": {
                "description": "Retrieve details of a specific sweep configuration by ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sweep-configs"
                ],
                "summary": "Get sweep configuration details",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Sweep configuration ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Sweep configuration details",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "config_json": {
                                    "type": "string"
                                },
                                "created_at": {
                                    "type": "string"
                                },
                                "created_by": {
                                    "type": "string"
                                },
                                "description": {
                                    "type": "string"
                                },
                                "id": {
                                    "type": "integer"
                                },
                                "last_used_at": {
                                    "type": "string"
                                },
                                "name": {
                                    "type": "string"
                                },
                                "times_used": {
                                    "type": "integer"
                                },
                                "updated_at": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid sweep configuration ID",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "404": {
                        "description": "Sweep configuration not found",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            },
            "put": {
                "description": "Update an existing sweep configuration",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sweep-configs"
                ],
                "summary": "Update a sweep configuration",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Sweep configuration ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Updated sweep configuration data",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/handlers.UpdateSweepConfigRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Sweep configuration updated",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "404": {
                        "description": "Sweep configuration not found",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            },
            "delete": {
                "description": "Delete a sweep configuration",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "sweep-configs"
                ],
                "summary": "Delete a sweep configuration",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "Sweep configuration ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Sweep configuration deleted",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid sweep configuration ID",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "404": {
                        "description": "Sweep configuration not found",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "$ref": "#/definitions/models.APIError"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "handlers.CreateConfigRequest": {
            "type": "object",
            "required": [
                "mode",
                "name",
                "recipe"
            ],
            "properties": {
                "description": {
                    "type": "string",
                    "maxLength": 500
                },
                "mode": {
                    "type": "string",
                    "enum": [
                        "simple",
                        "advanced"
                    ]
                },
                "name": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                },
                "recipe": {
                    "$ref": "#/definitions/services.Recipe"
                },
                "tags": {
                    "type": "string",
                    "maxLength": 200
                }
            }
        },
        "handlers.CreateSweepConfigRequest": {
            "type": "object",
            "required": [
                "config",
                "name"
            ],
            "properties": {
                "config": {
                    "$ref": "#/definitions/sweep.SweepConfig"
                },
                "description": {
                    "type": "string",
                    "maxLength": 500
                },
                "name": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                }
            }
        },
        "handlers.ImportRequest": {
            "type": "object",
            "required": [
                "artifact_id"
            ],
            "properties": {
                "artifact_id": {
                    "type": "string"
                },
                "sheet": {
                    "description": "Optional, defaults to first sheet",
                    "type": "string"
                }
            }
        },
        "handlers.UpdateSweepConfigRequest": {
            "type": "object",
            "required": [
                "config",
                "name"
            ],
            "properties": {
                "config": {
                    "$ref": "#/definitions/sweep.SweepConfig"
                },
                "description": {
                    "type": "string",
                    "maxLength": 500
                },
                "name": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 1
                }
            }
        },
        "handlers.UploadResponse": {
            "type": "object",
            "properties": {
                "artifact_id": {
                    "type": "string"
                },
                "filename": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "size": {
                    "type": "integer"
                }
            }
        },
        "models.APIError": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "details": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "message": {
                    "type": "string"
                },
                "request_id": {
                    "type": "string"
                }
            }
        },
        "models.Draw": {
            "type": "object",
            "properties": {
                "bola1": {
                    "type": "integer"
                },
                "bola2": {
                    "type": "integer"
                },
                "bola3": {
                    "type": "integer"
                },
                "bola4": {
                    "type": "integer"
                },
                "bola5": {
                    "type": "integer"
                },
                "contest": {
                    "type": "integer"
                },
                "draw_date": {
                    "type": "string"
                },
                "imported_at": {
                    "type": "string"
                },
                "raw_row": {
                    "type": "string"
                },
                "source": {
                    "type": "string"
                }
            }
        },
        "models.ValidationError": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "details": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "field_errors": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "message": {
                    "type": "string"
                },
                "request_id": {
                    "type": "string"
                }
            }
        },
        "services.ImportResult": {
            "type": "object",
            "properties": {
                "artifact_id": {
                    "type": "string"
                },
                "duration": {
                    "type": "string"
                },
                "filename": {
                    "type": "string"
                },
                "imported_at": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "rows_errors": {
                    "type": "integer"
                },
                "rows_inserted": {
                    "type": "integer"
                },
                "rows_skipped": {
                    "type": "integer"
                }
            }
        },
        "services.Recipe": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "parameters": {
                    "$ref": "#/definitions/services.RecipeParameters"
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "services.RecipeParameters": {
            "type": "object",
            "properties": {
                "alpha": {
                    "type": "number"
                },
                "beta": {
                    "type": "number"
                },
                "delta": {
                    "type": "number"
                },
                "enableEvolutionary": {
                    "type": "boolean"
                },
                "gamma": {
                    "type": "number"
                },
                "generations": {
                    "type": "integer"
                },
                "mutationRate": {
                    "type": "number"
                },
                "sim_preds": {
                    "type": "integer"
                },
                "sim_prev_max": {
                    "type": "integer"
                }
            }
        },
        "sweep.Constraint": {
            "type": "object",
            "properties": {
                "parameters": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "type": {
                    "description": "\"sum\", \"ratio\", \"min\", \"max\"",
                    "type": "string"
                },
                "value": {
                    "type": "number"
                }
            }
        },
        "sweep.ParameterSweep": {
            "type": "object",
            "properties": {
                "name": {
                    "description": "e.g., \"alpha\", \"sim_prev_max\"",
                    "type": "string"
                },
                "type": {
                    "description": "\"range\", \"discrete\", \"exponential\"",
                    "type": "string"
                },
                "values": {}
            }
        },
        "sweep.Recipe": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "parameters": {
                    "type": "object",
                    "additionalProperties": {}
                },
                "version": {
                    "type": "string"
                }
            }
        },
        "sweep.SweepConfig": {
            "type": "object",
            "properties": {
                "base_recipe": {
                    "$ref": "#/definitions/sweep.Recipe"
                },
                "constraints": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/sweep.Constraint"
                    }
                },
                "description": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "parameters": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/sweep.ParameterSweep"
                    }
                }
            }
        }
    }
}