version: "2"
sql:
  - schema: "migrations/001_create_results.sql"
    queries: "internal/store/queries/results.sql"
    engine: "sqlite"
    gen:
      go:
        package: "results"
        out: "internal/store/results"
        emit_interface: true
        emit_json_tags: true

  - schema: "migrations/002_create_simulations.sql"
    queries: "internal/store/queries/simulations.sql"
    engine: "sqlite"
    gen:
      go:
        package: "simulations"
        out: "internal/store/simulations"
        emit_interface: true
        emit_json_tags: true

  - schema: "migrations/003_create_configs.sql"
    queries: "internal/store/queries/configs.sql"
    engine: "sqlite"
    gen:
      go:
        package: "configs"
        out: "internal/store/configs"
        emit_interface: true
        emit_json_tags: true

  - schema: "migrations/004_create_finances.sql"
    queries: "internal/store/queries/finances.sql"
    engine: "sqlite"
    gen:
      go:
        package: "finances"
        out: "internal/store/finances"
        emit_interface: true
        emit_json_tags: true

  - schema: "migrations/005_create_sweeps.sql"
    queries: "internal/store/queries/sweeps.sql"
    engine: "sqlite"
    gen:
      go:
        package: "sweeps"
        out: "internal/store/sweeps"
        emit_interface: true
        emit_json_tags: true

  - schema: ["migrations/002_create_simulations.sql", "migrations/007_create_sweep_execution.sql"]
    queries: "internal/store/queries/sweep_execution.sql"
    engine: "sqlite"
    gen:
      go:
        package: "sweep_execution"
        out: "internal/store/sweep_execution"
        emit_interface: true
        emit_json_tags: true

  - schema: ["migrations/002_create_simulations.sql", "migrations/008_create_comparisons.sql"]
    queries: "internal/store/queries/comparisons.sql"
    engine: "sqlite"
    gen:
      go:
        package: "comparisons"
        out: "internal/store/comparisons"
        emit_interface: true
        emit_json_tags: true
